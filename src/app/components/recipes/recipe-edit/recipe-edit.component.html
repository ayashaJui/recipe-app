<div class="row">
  <div class="col-xs-12 mt-5">
    <form [formGroup]="recipeForm">
      <div class="row my-2">
        <div class="col-xs-12 d-flex gap-1">
          <p-button (click)="onSubmit()"
            type="submit"
            label="Save"
            icon="pi pi-plus"
            styleClass="p-button-success p-button-sm"
            [disabled]="!recipeForm.valid"
          ></p-button>
          <p-button
            label="Cancel"
            icon="pi pi-times" (click)="onCancel()"
            
            styleClass="p-button-danger p-button-sm"
          ></p-button>
        </div>
      </div>
      <input type="hidden" name="id" formControlName="id" />
      <div class="d-flex flex-column gap-2">
        <label htmlFor="name">Name</label>
        <input pInputText id="name" formControlName="name" required />
      </div>
      <div class="d-flex flex-column gap-2 mt-3">
        <label htmlFor="imagePath">Image Path</label>
        <input pInputText id="imagePath" formControlName="imagePath" required #imagePath />
      </div>
      <div class="row">
        <div class="col-xs-12">
          <img [src]="imagePath.value"  class="img-responsive">
        </div>
      </div>
      <div class="d-flex flex-column gap-2 mt-3">
        <label for="">Description</label>
        <textarea
          pInputTextarea
          name="description"
          formControlName="description"
          id="description"
          rows="10"
        ></textarea>
      </div>

      <div class="row my-3">
        <div class="col-xs-12 my-2" formArrayName="ingredients">
          <div
            class="row mt-3"
            *ngFor="let ingredientCtrl of controls; let i = index"
            [formGroupName]="i"
            style="margin-top: 10px"
          >
            <input type="hidden" name="id" formControlName="id" />
            <div class="col-sm-8 form-group d-flex flex-column">
              <input
                type="text"
                name="name"
                formControlName="name"
                id=""
                class="form-control"
                pInputText
              />
            </div>
            <div class="col-sm-2 d-flex form-group flex-column">
              <input
                type="number"
                name=""
                formControlName="amount"
                id=""
                class="form-control"
                pInputText
              />
            </div>
            <div class="col-sm-2">
              <p-button
                icon="pi pi-times" (click)="onDeleteIngredient(i)"
                styleClass="p-button-danger p-button-sm"
              ></p-button>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-xs-12">
              <p-button
                label="Add Ingredient"
                (click)="onAddIngredient()"
                icon="pi pi-plus"
                styleClass="p-button-success p-button-sm"
              ></p-button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
